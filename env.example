# Example configuration for TAAS backend
#
# Copy this file to `.env` (for local use only) or map the variables into
# your container/orchestration environment via a secrets manager.

# Core service configuration
NODE_ENV=production
PORT=4000

# Storage backend
STORE_BACKEND=postgres
DATABASE_URL=postgres://USER:PASSWORD@HOST:5432/taas_platform

# Authentication
ROOT_API_KEY=change-me-root-key
# Optional: restrict root key usage to specific IPs
# ROOT_API_KEY_ALLOWED_IPS=10.0.0.1,192.168.1.10

# CORS & documentation
# Comma-separated list of allowed origins. Leave unset when CORS is handled at the gateway.
CORS_ALLOWED_ORIGINS=https://admin.escrowgrid.io
# In production, keep docs protected behind API keys.
PUBLIC_DOCS_ENABLED=false

# Security headers (enable when Node terminates TLS directly)
HELMET_ENABLED=true

# Rate limiting & metrics
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
METRICS_ENABLED=true

# On-chain ledger (optional)
ONCHAIN_LEDGER_ENABLED=false
ONCHAIN_RPC_URL=
ONCHAIN_PRIVATE_KEY=
ONCHAIN_CONTRACT_ADDRESS=
ONCHAIN_CHAIN_ID=
ONCHAIN_FAILURE_MODE=queue
ONCHAIN_MAX_RETRIES=3
ONCHAIN_RETRY_DELAY_MS=5000
ONCHAIN_RETRY_WORKER_ENABLED=true
ONCHAIN_RETRY_BATCH_SIZE=10

